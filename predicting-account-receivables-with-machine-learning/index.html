<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Predicting Account Receivables with Machine Learning - Ana Paula Appel</title><meta name="description" content="This project was certified by IBM Data Science BoardPresentation at KDD 2020 Workshop Machine learning in FinanceThe invoice-to-cash process involves various steps, from&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://anapaulaappel.github.io/predicting-account-receivables-with-machine-learning/"><link rel="alternate" type="application/atom+xml" href="https://anapaulaappel.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://anapaulaappel.github.io/feed.json"><meta property="og:title" content="Predicting Account Receivables with Machine Learning"><meta property="og:image" content="https://anapaulaappel.github.io/media/website/Ana.jpg"><meta property="og:site_name" content="Ana Paula Appel"><meta property="og:description" content="This project was certified by IBM Data Science BoardPresentation at KDD 2020 Workshop Machine learning in FinanceThe invoice-to-cash process involves various steps, from&hellip;"><meta property="og:url" content="https://anapaulaappel.github.io/predicting-account-receivables-with-machine-learning/"><meta property="og:type" content="article"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://anapaulaappel.github.io/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://anapaulaappel.github.io/assets/css/academicons.min.css?v=3b48c71c70d59c14cdd6334ee1fef08f"><link rel="stylesheet" href="https://anapaulaappel.github.io/assets/css/style.css?v=3219fe976bf4f0a2f29da2386a7c3389"><noscript><link rel="stylesheet" href="https://anapaulaappel.github.io/assets/css/noscript.css?v=e9cb14177f0b4682295baa0a917ba60a"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://anapaulaappel.github.io/predicting-account-receivables-with-machine-learning/"},"headline":"Predicting Account Receivables with Machine Learning","datePublished":"2021-02-25T08:44","dateModified":"2021-03-04T20:18","description":"This project was certified by IBM Data Science BoardPresentation at KDD 2020 Workshop Machine learning in FinanceThe invoice-to-cash process involves various steps, from&hellip;","author":{"@type":"Person","name":"Ana Paula Appel"},"publisher":{"@type":"Organization","name":"Ana Paula Appel"}}</script><style>#wrapper > .bg {
               background-image: url(https://anapaulaappel.github.io/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://anapaulaappel.github.io/media/website/Ana-3.jpg);
           }</style></head><body class="is-preload"><div id="wrapper"><header id="header"><a class="logo" href="https://anapaulaappel.github.io/">Ana Paula Appel</a></header><nav id="nav"><ul class="links"><li><a href="https://anapaulaappel.github.io/" target="_self">Home</a></li><li class="has-submenu"><a href="https://anapaulaappel.github.io/tags/projects/" target="_self" aria-haspopup="true">Projects</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="https://anapaulaappel.github.io/temporally-evolving-community-detection-and-prediction-in-heterogeneous-networks/" target="_self">TG</a></li><li><a href="https://anapaulaappel.github.io/projects/" target="_self">HIG</a></li></ul></li><li class="has-submenu"><a href="https://anapaulaappel.github.io/tags/media/" target="_self" aria-haspopup="true">Media</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="https://anapaulaappel.github.io/talks/" target="_self">Talks</a></li><li><a href="https://anapaulaappel.github.io/award/" target="_self">Awards</a></li><li><a href="https://anapaulaappel.github.io/interviews/" target="_self">Interviews</a></li></ul></li><li><a href="https://anapaulaappel.github.io/patents/" target="_self">Patents</a></li></ul><ul class="icons"><li><a href="https://scholar.google.com.br/citations?user&#x3D;O-jfiZMAAAAJ&amp;hl&#x3D;pt-BR" class="icon brands fa-google"><span class="label">Scholar</span></a></li><li><a href="https://www.spreaker.com/show/crazy-for-data" class="icon solid fa-podcast"><span class="label">Podcast</span></a></li><li><a href="https://dblp.org/pid/00/4729.html" class="icon solid fa-book"><span class="label">DBLP</span></a></li><li><a href="mailto:paulinha.appel@gmail.com" class="icon Social fa-envelope"><span class="label">Mail</span></a></li><li><a href="https://www.instagram.com/crazyfordata/?hl&#x3D;en" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li><li><a href="https://www.linkedin.com/in/paulinhaappel/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li></ul></nav><main id="main"><article class="post"><header class="major"><h1>Predicting Account Receivables with Machine Learning</h1><p class="post__inner"></p></header><div class="post__inner post__entry"><figure class="post__image post__image--center"><img loading="lazy" src="https://anapaulaappel.github.io/media/posts/10/projectbadge3.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://anapaulaappel.github.io/media/posts/10/responsive/projectbadge3-xs.png 300w, https://anapaulaappel.github.io/media/posts/10/responsive/projectbadge3-sm.png 480w, https://anapaulaappel.github.io/media/posts/10/responsive/projectbadge3-md.png 768w, https://anapaulaappel.github.io/media/posts/10/responsive/projectbadge3-lg.png 1024w, https://anapaulaappel.github.io/media/posts/10/responsive/projectbadge3-xl.png 1360w, https://anapaulaappel.github.io/media/posts/10/responsive/projectbadge3-2xl.png 1600w" alt="" width="150" height="150"><figcaption>This project was certified by IBM Data Science Board</figcaption></figure><table style="border-collapse: collapse; width: 100%; height: 490px;" border="1"><tbody><tr style="height: 413px;"><td style="width: 100%; height: 413px;"><figure class="post__video"><iframe loading="lazy" width="560" height="314" src="https://www.youtube.com/embed/gj_XqF4wjzc" allowfullscreen="allowfullscreen"></iframe></figure></td></tr><tr style="height: 77px;"><td style="width: 100%; height: 77px;"><h4 class="align-center">Presentation at KDD 2020 Workshop Machine learning in Finance</h4></td></tr></tbody></table><p><span data-contrast="auto">The invoice-to-cash process involves various steps, from invoice creation to customer's debt (payment) settlement or reconciliation. One key step of this process is the collection of accounts receivable. Accounts receivable (AR) refers to the invoices issued by a company for products or services already delivered but not yet paid for by its customers. Properly managing AR is a core accounting activity and concern of any company, pertaining to its cash-flow. </span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><p><span data-contrast="auto">W</span><span data-contrast="auto">e present a study case carried out in partnership with a multinational bank</span><span data-contrast="auto">. </span><span data-contrast="auto">It sought for innovative ways to proactively identify overdue ARs with high probability of being paid such that its managers and executives could take appropriate actions (such as, reaching out to those customers and collecting those ARs). </span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><p><span data-contrast="auto">The problem of predicting an invoice payment is a typical classification problem using supervised learning</span> <span data-contrast="auto">where, given the original client dataset, we need to extract invoices' features to be able to characterize each invoice with respect to labeled classes, building then a machine learning model to perform classification of new invoic</span><span data-contrast="auto">e. A</span><span data-contrast="auto">n invoice is </span><span data-contrast="auto">considered</span><span data-contrast="auto"> overdue if the payment occurred in more than 5 days from due date. The main reason for considering this time window is the time required to processing payment in the client system.</span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><p><span data-contrast="auto">The dataset received has 164,043 invoices from 8 countries from Latin America, 3,779 customers with a total of 15,437 different contracts ranging from January 2017 to August 2018.</span> <span data-contrast="auto">The dataset only contains information about payments, i.e., only about invoice. For instance, invoice value, country code, customer credit rating, contract number, customer number, etc. One of biggest problem of our data is that our client has no relevant information about customers as industry sector, balance sheets, etc.  </span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><p><span data-contrast="auto">T</span><span data-contrast="auto">ransform the poor invoice information in relevant features to build a machine learning model to predict payment</span><span data-contrast="auto"> is a challenge problem</span><span data-contrast="auto">.</span> <span data-contrast="auto">We used historical data to create aggregate features that could bring more meaning to our set of invoice-level features</span><span data-contrast="auto">, such as: paid invoices, total paid invoice, sum amount of paid invoices, total outstanding invoices, total outstanding late, sum total outstanding, sum late outstanding, average days late, average days outstanding late, pay frequency, number of contracts invoice is associated.  For these historical features</span><span data-contrast="auto">, we needed to define a period of time that we will consider </span><span data-contrast="auto">looking</span><span data-contrast="auto"> back. </span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><p>W<span data-contrast="auto">e present the accuracy results</span><span data-contrast="auto"> (Figure 1</span><span data-contrast="auto">) </span><span data-contrast="auto">for</span><span data-contrast="auto"> all the data set generated from</span><span data-contrast="auto"> w</span><span data-contrast="auto">=2,..,12</span><span data-contrast="auto"> months</span><span data-contrast="auto"> with all five classifiers that we tested: Deep Neural Network Naive Bayes, Logistic Regression, k-Nearest Neighbors, Random Forest, and Gradient Boosted Decision Trees. We highlight the best accuracy and we can see that with 5 months (w=4). This result shows that using all the available data is not always the best option. Specially because the concept drift we observed lead to use less data</span><span data-contrast="auto">.</span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><figure class="post__image post__image--center"><img loading="lazy" src="https://anapaulaappel.github.io/media/posts/10/fastai-accuracy_per_window_size.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://anapaulaappel.github.io/media/posts/10/responsive/fastai-accuracy_per_window_size-xs.png 300w, https://anapaulaappel.github.io/media/posts/10/responsive/fastai-accuracy_per_window_size-sm.png 480w, https://anapaulaappel.github.io/media/posts/10/responsive/fastai-accuracy_per_window_size-md.png 768w, https://anapaulaappel.github.io/media/posts/10/responsive/fastai-accuracy_per_window_size-lg.png 1024w, https://anapaulaappel.github.io/media/posts/10/responsive/fastai-accuracy_per_window_size-xl.png 1360w, https://anapaulaappel.github.io/media/posts/10/responsive/fastai-accuracy_per_window_size-2xl.png 1600w" alt="" width="3642" height="2186"><figcaption>Figure 1 Experiment different time window with several machine learning methods</figcaption></figure><p> </p><p><span data-contrast="auto">Data distribution for training, validation and test sets. The classes are </span><span data-contrast="auto">balanced</span><span data-contrast="auto"> and our baseline is close to 61%. We split the data using time, since we cannot use future data to make predictions. We use around 70% of available data to train the model and the other 30% we split in test and validation data</span><span data-contrast="auto"> as presented in Figure 2</span><span data-contrast="auto">.</span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><figure class="post__image post__image--center"><img loading="lazy" src="https://anapaulaappel.github.io/media/posts/10/fig2.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://anapaulaappel.github.io/media/posts/10/responsive/fig2-xs.png 300w, https://anapaulaappel.github.io/media/posts/10/responsive/fig2-sm.png 480w, https://anapaulaappel.github.io/media/posts/10/responsive/fig2-md.png 768w, https://anapaulaappel.github.io/media/posts/10/responsive/fig2-lg.png 1024w, https://anapaulaappel.github.io/media/posts/10/responsive/fig2-xl.png 1360w, https://anapaulaappel.github.io/media/posts/10/responsive/fig2-2xl.png 1600w" alt="" width="1042" height="182"><figcaption>Figure 2. Data Split Train and Test</figcaption></figure><p><span data-contrast="auto">We deployed our model and prioritization ranking list using a RESTful API, making the maintenance of the model (retrained for instance) and other service adjustments easier.</span><span data-contrast="auto"> </span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><p><span data-contrast="auto">Finally, as </span><span data-contrast="auto">real-world</span><span data-contrast="auto"> environments are always in continuous flux, our features distribution are shifting as well. We noted that the current AR process has been modified over the last year, and, as it evolves, our model should accompany that.</span><span data-ccp-props="{&quot;335551550&quot;:6,&quot;335551620&quot;:6,&quot;335559738&quot;:120}"> </span></p><h2>Publications</h2><p><cite class="data"><span class="this-person">Ana Paula Appel</span>, <span title="Gabriel Louzada Malfatti">Gabriel Louzada Malfatti</span>, <span title="Renato Luiz de Freitas Cunha">Renato Luiz de Freitas Cunha</span>, <span title="Bruno Lima">Bruno Lima</span>, <a href="https://dblp.org/pid/130/2269.html" itemprop="url"><span title="Rogério de Paula">Rogério de Paula</span></a>: <span class="title">Predicting Account Receivables with Machine Learning.</span> <a href="https://dblp.org/db/journals/corr/corr2008.html#abs-2008-07363">CoRR abs/2008.07363</a> (2020)</cite></p><p><cite class="data"><span class="this-person">Ana Paula Appel</span>, <span title="Victor Oliveira">Victor Oliveira</span>, <span title="Bruno Lima">Bruno Lima</span>, <span title="Gabriel Louzada Malfatti">Gabriel Louzada Malfatti</span>, <span title="Vagner Figueredo de Santana">Vagner Figueredo de Santana</span>, <span title="Rogério de Paula">Rogério de Paula</span>: <span class="title">Optimize Cash Collection: Use Machine learning to Predicting Invoice Payment.</span> <a href="https://dblp.org/db/journals/corr/corr1912.html#abs-1912-10828">CoRR abs/1912.10828</a> (2019)</cite></p><p> </p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on March 4, 2021</p><div class="post__share-tag-container"><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fanapaulaappel.github.io%2Fpredicting-account-receivables-with-machine-learning%2F" class="js-share icon brands fa-facebook-f" rel="nofollow noopener noreferrer"><span class="label">Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fanapaulaappel.github.io%2Fpredicting-account-receivables-with-machine-learning%2F&amp;via=%40paulinhaappel&amp;text=Predicting%20Account%20Receivables%20with%20Machine%20Learning" class="js-share icon brands fa-twitter" rel="nofollow noopener noreferrer"><span class="label">Twitter</span> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fanapaulaappel.github.io%2Fpredicting-account-receivables-with-machine-learning%2F&amp;title=Predicting%20Account%20Receivables%20with%20Machine%20Learning" class="js-share icon brands fa-linkedin" rel="nofollow noopener noreferrer"><span class="label">LinkedIn</span></a></div></div></div></footer></article></main><footer id="copyright"><p>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></p></footer></div><script src="https://anapaulaappel.github.io/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://anapaulaappel.github.io/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://anapaulaappel.github.io/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://anapaulaappel.github.io/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://anapaulaappel.github.io/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://anapaulaappel.github.io/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://anapaulaappel.github.io/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script></body></html>